(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(86959)}])},86959:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var r=t(85893),c=t(9008),a=t.n(c),s=t(59647),o=t.n(s),i=t(41942);function d(){return(0,r.jsxs)("nav",{className:"p-5 border-b-2 flex flex-row",children:[(0,r.jsx)("h1",{className:"py-4 px-4 font-bold text-3xl",children:" Decentralized Lottery"}),(0,r.jsx)("div",{className:"ml-auto py-2 px-4",children:(0,r.jsx)(i.cg,{moralisAuth:!1})})]})}var l=[],u=t(83078),_=t(67294),x=t(84142);let f="0xbf10a37667fc0111f7797e044592902dbf6c5ee1609e097cb748eec3178e5cd1";function m(){let{Moralis:e,isWeb3Enabled:n}=(0,u.Nr)(),[t,c]=(0,_.useState)("0"),[a,s]=(0,_.useState)("0"),{runContractFunction:o,data:i,isLoading:d,isFetching:m}=(0,u.JX)({abi:l.abi,contractAddress:f,functionName:"enterRaffle",msgValue:"100000000000000000",params:{}}),{runContractFunction:p}=(0,u.JX)({abi:l.abi,contractAddress:f,functionName:"getEntranceFee",params:{}}),{runContractFunction:h}=(0,u.JX)({abi:l.abi,contractAddress:f,functionName:"getNumberOfPlayers",params:{}}),{runContractFunction:b}=(0,u.JX)({abi:l.abi,contractAddress:f,functionName:"getRecentWinner",params:{}});return(0,_.useEffect)(()=>{async function e(){s(await b())}n&&e()},[n]),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)("h1",{className:"py-4 px-4 font-bold text-3xl",children:"Lottery"}),f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded ml-auto",onClick:async()=>await o(),disabled:d||m,children:d||m?(0,r.jsx)("div",{className:"animate-spin spinner-border h-8 w-8 border-b-2 rounded-full"}):"Enter Raffle"}),(0,r.jsxs)("div",{children:["Entrance Fee: ",x.bM("100000000000000000","ether")," ETH"]}),(0,r.jsxs)("div",{children:["The current number of players is: ",t]}),(0,r.jsxs)("div",{children:["The most previous winner was: ",a]})]}):(0,r.jsx)("div",{children:"Please connect to a supported chain "})]})}let p=["11155111"];function h(){let{isWeb3Enabled:e,chainId:n}=(0,u.Nr)();return(0,r.jsxs)("div",{className:o().container,children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"Create Next App"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(d,{}),e?(0,r.jsx)("div",{children:p.includes(parseInt(n).toString())?(0,r.jsx)("div",{className:"flex flex-row",children:(0,r.jsx)(m,{className:"p-8"})}):(0,r.jsx)("div",{children:"Please switch to a supported chainId. The supported Chain Ids are: ".concat(p)})}):(0,r.jsx)("div",{children:"Please connect to a Wallet"})]})}},59647:function(e){e.exports={main:"Home_main__VkIEL",description:"Home_description__uXNdx",code:"Home_code__VVrIr",grid:"Home_grid__AVljO",card:"Home_card__E5spL",center:"Home_center__O_TIN",logo:"Home_logo__IOQAX",content:"Home_content__tkQPU",vercelLogo:"Home_vercelLogo___BVuc",rotate:"Home_rotate__c5eru"}},9008:function(e,n,t){e.exports=t(6665)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=75557)}),_N_E=e.O()}]);